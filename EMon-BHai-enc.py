import base64
exec(base64.b64decode("aW1wb3J0IG9zDQppbXBvcnQgc3lzDQppbXBvcnQgdGltZQ0KaW1wb3J0IHJlcXVlc3RzDQppbXBvcnQgdXVpZA0KdHJ5Og0KICAgICAgICBpbXBvcnQgb3MscmVxdWVzdHMsanNvbix0aW1lLHJlLHJhbmRvbSxzeXMsdXVpZCxzdHJpbmcsc3VicHJvY2Vzcw0KICAgICAgICBmcm9tIHN0cmluZyBpbXBvcnQgKg0KICAgICAgICBmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQNCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOg0KICAgICAgICBwcmludCgnXG4gSW5zdGFsbGluZyBtaXNzaW5nIG1vZHVsZXMgLi4uJykNCiAgICAgICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cyBmdXR1cmVzPT0yID4gL2Rldi9udWxsJykNCg0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgc29wDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cA0KaW1wb3J0IHJlcXVlc3RzIGFzIHJlc3MNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGUNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lDQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwDQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwIGFzIHdha3R1DQp0cnk6DQogICAgaW1wb3J0IHJlcXVlc3RzDQogICAgZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBUaHJlYWRQb29sDQogICAgaW1wb3J0IG1lY2hhbml6ZQ0KICAgIGZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yDQpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjoNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIG1lY2hhbml6ZSByZXF1ZXN0cyBmdXR1cmVzIGJzND09MiA+IC9kZXYvbnVsbCcpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQ0KaW1wb3J0IHJlcXVlc3RzLGJzNCxqc29uLG9zLHN5cyxyYW5kb20sZGF0ZXRpbWUsdGltZSxyZQ0KaW1wb3J0IHVybGxpYjMscmljaCxiYXNlNjQNCmltcG9ydCByZXF1ZXN0cyx6bGliLHBsYXRmb3JtDQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlIGFzIG1lDQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZSBhcyBzb2wNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcA0KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkDQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgR3JvdXAgYXMgZ3ANCmZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwgYXMgbmVsDQpmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIGNldGFrDQpmcm9tIHJpY2gubWFya2Rvd24gaW1wb3J0IE1hcmtkb3duIGFzIG1hcmsNCmZyb20gcmljaC5jb2x1bW5zIGltcG9ydCBDb2x1bW5zIGFzIGNvbA0KZnJvbSByaWNoIGltcG9ydCBwcmludCBhcyBycHJpbnQNCmZyb20gcmljaCBpbXBvcnQgcHJldHR5DQpmcm9tIHJpY2gudGV4dCBpbXBvcnQgVGV4dCBhcyB0ZWt6DQpwcmV0dHkuaW5zdGFsbCgpDQpDT049c29sKCkNCnVnZW4yPVtdDQp1Z2VuPVtdDQpjb2ticnV0PVtdDQpzZXM9cmVxdWVzdHMuU2Vzc2lvbigpDQpwcmluY3A9W10NCmNsYXNzIGphbGFuOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB6KToNCiAgICAgICAgZm9yIGUgaW4geiArICJcbiI6DQogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wOSkNClAgPSAnXHgxYlsxOzk3bScNCk0gPSAnXHgxYlsxOzkxbScNCkggPSAnXHgxYlsxOzkybScNCksgPSAnXHgxYlsxOzkzbScNCkIgPSAnXHgxYlsxOzk0bScNClUgPSAnXHgxYlsxOzk1bScgDQpPID0gJ1x4MWJbMTs5Nm0nDQpOID0gJ1x4MWJbMG0nICAgIA0KWiA9ICJcMDMzWzE7MzBtIg0Kc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScNCnggPSAnXDMzW20nICMgREVGQVVMVA0KbSA9ICdceDFiWzE7OTFtJyAjUkVEICsNCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsNCnhyID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKw0KaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQ0KdSA9ICdcMDMzWzk1bScgIyBVTkdVDQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQ0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtDQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArDQpSRUQgPSAnXDAzM1sxOzkxbScNCldISVRFID0gJ1wwMzNbMTs5N20nDQpHUkVFTiA9ICdcMDMzWzE7MzJtJyAjDQpZRUxMT1cgPSAnXDAzM1sxOzMzbScNCkJMVUUgPSAnXDAzM1sxOzM0bScNCk9SQU5HRSA9ICdcMDMzWzE7MzVtJw0KUCA9ICdceDFiWzE7OTdtJyAjIFBVVElIDQpNID0gJ1x4MWJbMTs5MW0nICMgTUVSQUgNCkggPSAnXHgxYlsxOzkybScgIyBISUpBVQ0KSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORw0KQiA9ICdceDFiWzE7OTRtJyAjIEJJUlUNClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVDQpPID0gJ1x4MWJbMTs5Nm0nICMgQklSVSBNVURBDQpOID0gJ1x4MWJbMG0nICAgICMgV0FSTkEgTUFUSQ0KQSA9ICdceDFiWzE7OTBtJyAjIFdBUk5BIEFCVSBBQlUNCkJOID0gJ1x4MWJbMTsxMDdtJyAjIEJFTEFLQU5HIFBVVElIDQpCQkwgPSAnXHgxYlsxOzEwNm0nICMgQkVMQUtBTkcgQklSVSBMQU5HSVQNCkJQID0gJ1x4MWJbMTsxMDVtJyAjIEJFTEFLQU5HIFBJTksNCkJCID0gJ1x4MWJbMTsxMDRtJyAjIEJFTEFLQU5HIEJJUlUNCkJLID0gJ1x4MWJbMTsxMDNtJyAjIEJFTEFLQU5HIEtVTklORw0KQkggPSAnXHgxYlsxOzEwMm0nICMgQkVMQUtBTkcgSElKQVUNCkJNID0gJ1x4MWJbMTsxMDFtJyAjIEJFTEFKQU5HIE1FUkFIDQpCQSA9ICdceDFiWzE7MTAwbScgIyBCRUxBS0FORyBBQlUgQUJVDQpteV9jb2xvciA9IFsNCiBQLCBNLCBILCBLLCBCLCBVLCBPLCBOXQ0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0Kd2FybmExID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCndhcm5hMiA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQp3YXJuYTMgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0Kd2FybmE0ID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCndhcm5hNSA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQp3YXJuYTYgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0KZ3kgPSBbWUVMTE9XLEdSRUVOXQ0KZ3ljID0gcmFuZG9tLmNob2ljZShneSkNCmRlZiB0YWh1bm5nKGZ4KToNCglpZiBsZW4oZngpPT0xNToNCgkJaWYgZnhbOjEwXSBpbiBbJzEwMDAwMDAwMDAnXSAgICAgICA6dGFodW56ID0gJzIwMDknDQoJCWVsaWYgZnhbOjldIGluIFsnMTAwMDAwMDAwJ10gICAgICAgOnRhaHVueiA9ICcyMDA5Jw0KCQllbGlmIGZ4Wzo4XSBpbiBbJzEwMDAwMDAwJ10gICAgICAgIDp0YWh1bnogPSAnMjAwOScNCgkJZWxpZiBmeFs6N10gaW4gWycxMDAwMDAwJywnMTAwMDAwMScsJzEwMDAwMDInLCcxMDAwMDAzJywnMTAwMDAwNCcsJzEwMDAwMDUnXTp0YWh1bnogPSAnMjAwOScNCgkJZWxpZiBmeFs6N10gaW4gWycxMDAwMDA2JywnMTAwMDAwNycsJzEwMDAwMDgnLCcxMDAwMDA5J106dGFodW56ID0gJzIwMTAnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDAxJ10gICAgICAgICAgOnRhaHVueiA9ICcyMDEwLTIwMTEnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDAyJywnMTAwMDAzJ10gOnRhaHVueiA9ICcyMDExLTIwMTInDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA0J10gICAgICAgICAgOnRhaHVueiA9ICcyMDEyLTIwMTMnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA1JywnMTAwMDA2J10gOnRhaHVueiA9ICcyMDEzLTIwMTQnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA3JywnMTAwMDA4J10gOnRhaHVueiA9ICcyMDE0LTIwMTUnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA5J10gICAgICAgICAgOnRhaHVueiA9ICcyMDE1Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAxJ10gICAgICAgICAgIDp0YWh1bnogPSAnMjAxNS0yMDE2Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAyJ10gICAgICAgICAgIDp0YWh1bnogPSAnMjAxNi0yMDE3Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAzJ10gICAgICAgICAgIDp0YWh1bnogPSAnMjAxOCcNCgkJZWxpZiBmeFs6NV0gaW4gWycxMDAwNCddICAgICAgICAgICA6dGFodW56ID0gJzIwMTknDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDUnXSAgICAgICAgICAgOnRhaHVueiA9ICcyMDIwJw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDA2JywnMTAwMDcnLCcxMDAwOCddOnRhaHVueiA9ICcyMDIxLTIwMjInDQoJCWVsc2U6dGFodW56PScnDQoJZWxpZiBsZW4oZngpIGluIFs5LDEwXToNCgkJdGFodW56ID0gJzIwMDgtMjAwOScNCgllbGlmIGxlbihmeCk9PTg6DQoJCXRhaHVueiA9ICcyMDA3LTIwMDgnDQoJZWxpZiBsZW4oZngpPT03Og0KCQl0YWh1bnogPSAnMjAwNi0yMDA3Jw0KCWVsc2U6dGFodW56PScnDQoJcmV0dXJuIHRhaHVueg0KZGVmIGFsdmlub194eSh1KToNCiAgICAgICAgZm9yIGUgaW4gdSArICJcbiI6c3lzLnN0ZG91dC53cml0ZShlKTtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwNSkNCmRlZiBzYXdyb2pqKHUpOg0KICAgICAgICBmb3IgZSBpbiB1ICsgIlxuIjpzeXMuc3Rkb3V0LndyaXRlKGUpO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDEpDQppZCxpZDIsbG9vcCxvayxjcCxha3VuLG9wcmVrLG1ldGhvZCxsaXNlbnNpa3UsdGFwbGlrYXNpLHRva2Vua3UsdWlkLGxpc2Vuc2lrdW5pPSBbXSxbXSwwLDAsMCxbXSxbXSxbXSxbXSxbXSxbXSxbXSxbXQ0KY29rYnJ1dD1bXQ0KcHdwbHVzcyxwd255YT1bXSxbXQ0KZGljID0geycxJzonSmFudWFyeScsJzInOidGZWJydWFyeScsJzMnOidNYXJjaCcsJzQnOidBcHJpbCcsJzUnOidNYXknLCc2JzonSnVuZScsJzcnOidKdWx5JywnOCc6J0F1Z3VzdCcsJzknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZWNlbWJlcid9DQpkaWMyID0geycwMSc6J0phbnVhcnknLCcwMic6J0ZlYnJ1YXJ5JywnMDMnOidNYXJjaCcsJzA0JzonQXByaWwnLCcwNSc6J01heScsJzA2JzonSnVuZScsJzA3JzonSnVseScsJzA4JzonQXVndXN0JywnMDknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZXZlbWJlcid9DQp0Z2wgPSBkYXRldGltZS5kYXRldGltZS5ub3coKS5kYXkNCmJsbiA9IGRpY1soc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLm1vbnRoKSldDQp0aG4gPSBkYXRldGltZS5kYXRldGltZS5ub3coKS55ZWFyDQpva2MgPSAnT0stJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0Jw0KY3BjID0gJ0NQLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcNCnRyeToNCglwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczQmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dA0KCW9wZW4oJy5wcm94LnR4dCcsJ3cnKS53cml0ZShwcm94KQ0KCSNvcy5zeXN0ZW0oJ2dpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vSGFubmFuLTQwNC9GSUxFJykNCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCglwcmludCgnW1tceDFiWzE7OTJtw6LigqzColx4MWJbMTs5N21dIFtceDFiWzE7OTZtS0FWSScpDQpwcm94PW9wZW4oJy5wcm94LnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoNCmRlZiB1aWQobmFtKToNCgl1aWQxID0gc3RyKG9zLmdldGV1aWQoKSkgKyBzdHIob3MuZ2V0bG9naW4oKSkudXBwZXIoKQ0KCXRyeToNCgkJa2V5MSA9IG9wZW4oJy9kYXRhL2RhdGEvY29tLnRlcm11eC9maWxlcy91c3IvZXRjL3VpZHRlcm11eCcsICdyJykucmVhZCgpDQoJZXhjZXB0Og0KCQlrb2s9b3BlbignL2RhdGEvZGF0YS9jb20udGVybXV4L2ZpbGVzL3Vzci9ldGMvdWlkdGVybXV4JywgJ3cnKQ0KCQlrb2sud3JpdGUodWlkLG5hbSkNCgkJa29rLmNsb3NlKCkNCglib3R1aWQoKQ0KZGVmIGJvdHVpZCgpOg0KCWtleTIgPSBvcGVuKCcvZGF0YS9kYXRhL2NvbS50ZXJtdXgvZmlsZXMvdXNyL2V0Yy91aWR0ZXJtdXgnLCAncicpLnJlYWQoKQ0KCWJvdF90b2tlbiA9ICc2MDIzNDU5MTc3OkFBSEdBLVMwZzIzMGdrbHJ4eWc3bjB2VEZQSjhSSTFEcTM0Jw0KCWNoYXRfaWQgPSAnMTgxODYwNjM1OCcNCgltZXNzYWdlID0ga2V5Mg0KCXVybCA9IGYnaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHtib3RfdG9rZW59L3NlbmRNZXNzYWdlJw0KCWRhdGEgPSB7J2NoYXRfaWQnOiBjaGF0X2lkLCAndGV4dCc6IG1lc3NhZ2V9DQoJcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbj1kYXRhKSAgICAgICAgDQoJDQpkZWYgbG8od29yZCk6DQogICAgaGVyb24gPSBbIltceDFiWzE7OTFt4pagXHgxYlswbeKWoeKWoeKWoeKWoeKWoeKWoeKWoeKWoeKWoV0iLCJbXHgxYlsxOzkybeKWoOKWoFx4MWJbMG3ilqHilqHilqHilqHilqHilqHilqHilqFdIiwgIltceDFiWzE7OTNt4pag4pag4pagXHgxYlswbeKWoeKWoeKWoeKWoeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5NG3ilqDilqDilqDilqBceDFiWzBt4pah4pah4pah4pah4pah4pahXSIsICJbXHgxYlsxOzk1beKWoOKWoOKWoOKWoOKWoFx4MWJbMG3ilqHilqHilqHilqHilqFdIiwgIltceDFiWzE7OTZt4pag4pag4pag4pag4pag4pagXHgxYlswbeKWoeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5N23ilqDilqDilqDilqDilqDilqDilqBceDFiWzBt4pah4pah4pahXSIsICJbXHgxYlsxOzk4beKWoOKWoOKWoOKWoOKWoOKWoOKWoOKWoFx4MWJbMG3ilqHilqFdIiwgIltceDFiWzE7OTlt4pag4pag4pag4pag4pag4pag4pag4pag4pagXHgxYlswbeKWoV0iLCAiW1x4MWJbMTs5MTBt4pag4pag4pag4pag4pag4pag4pag4pag4pag4pagXHgxYlswbV0iXQ0KICAgIGZvciBpIGluIHJhbmdlKDcpOg0KICAgICAgICBmb3IgeCBpbiByYW5nZShsZW4oaGVyb24pKToNCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoKCdccnt9e30nKS5mb3JtYXQoc3RyKHdvcmQpLCBoZXJvblt4XSkpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMSkNCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KCQ0KDQpkZWYgY2VrX2FwayhzZXNzaW9uLGNva2kpOg0KCXc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCglzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikNCgl4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0iZ2V0IikNCglnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KCWlmIGxlbihnYW1lKT09MDoNCgkJcHJpbnQoZiJccntOfVt7TX0he059XSBTT1JSWSBUSEVSRSBJUyBOTyBBQ1RJVkUgQVBLIikNCgllbHNlOg0KCQlwcmludCgiIikNCgkJcHJpbnQoZidccntzb31ZT1VSIEFDVElWRSBBUFBMSUNBVElPTiBERVRBSUxTIDonJShIKSkNCgkJZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCgkJCXByaW50KCIlcyVzLiAlcyVzIiUoSCxpKzEsZ2FtZVtpXS5yZXBsYWNlKCJBQ1RJVkUiLCIgQUNUSVZFIiksTikpDQoJdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0DQoJc29wID0gQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpDQoJeCA9IHNvcC5maW5kKCJmb3JtIixtZXRob2Q9ImdldCIpDQoJZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCglpZiBsZW4oZ2FtZSk9PTA6DQoJCXByaW50KGYiXHJ7Tn1be019IXtOfV0gU09SUlkgVEhFUkUgSVMgTk8gRVhQSVJFRCBBUEsiKQ0KCWVsc2U6DQoJCXByaW50KGYnXHIgw7DFuMW9wq4gJXNZT1VSIEVYUElSRUQgQVBQTElDQVRJT04gREVUQUlMUyA6JyUoTSkpDQoJCWZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6DQoJCQlwcmludCgiJXMlcy4gJXMlcyIlKEssaSsxLGdhbWVbaV0ucmVwbGFjZSgiRXhwaXJlZCIsIiBFeHBpcmVkIiksTikpDQoNCnVnZW49W10NCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6DQogICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCAxMTsnDQogICAgYj1yYW5kb20uY2hvaWNlKFsnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMiddKQ0KICAgIGM9J2ZyLWZyOyBSZWRtaSBOb3RlIDExIEJ1aWxkLycNCiAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpDQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLycNCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQ0KICAgIGk9JzAnDQogICAgaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkNCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQ0KICAgIGw9JyBDaHJvbWUvODkuMC40Mzg5LjExNiBNb2JpbGUgU2FmYXJpLzUzNy4zNiBYaWFvTWkvTWl1aUJyb3dzZXIvMTIuMjIuMC4zLWduJw0KICAgIHVha3UyPWYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScNCiAgICB1Z2VuLmFwcGVuZCh1YWt1MikNCiNNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMTE7IGZyLWZyOyBSZWRtaSBOb3RlIDExIEJ1aWxkL1JLUTEuMjExMDAxLjAwMSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg5LjAuNDM4OS4xMTYgTW9iaWxlIFNhZmFyaS81MzcuMzYgWGlhb01pL01pdWlCcm93c2VyLzEyLjIyLjAuMy1nbg0KI01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMzsgUmVkbWkgTm90ZSAxMCBQcm8pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMDcuMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYNCiAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEzOycNCiAgICBiPXJhbmRvbS5jaG9pY2UoWyc3LjAnLCc4LjEuMCcsJzknLCcxMCcsJzExJywnMTInXSkNCiAgICBjPXJhbmRvbS5jaG9pY2UoWydSZWRtaSBOb3RlIDEwIFBybyddKQ0KICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkNCiAgICBmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pJw0KICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg4MCwxMDMpDQogICAgaT0nMCcNCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQogICAgbD0nQ2hyb21lLzEwNy4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNicNCiAgICB1YWt1Mj1mJ3thYX0ge2J9OyB7Y317ZH17ZX17Zn0pIHtnfXtofS57aX0ue2p9LntrfSB7bH0nDQogICAgdWdlbi5hcHBlbmQodWFrdTIpDQogICAgDQogICAgDQogICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsnDQogICAgYj1yYW5kb20uY2hvaWNlKFsnNy4wJywnOC4xLjAnLCc5JywnMTAnLCcxMScsJzEyJ10pDQogICAgYz1yYW5kb20uY2hvaWNlKFsnUmVkbWkgTm90ZSAxMCBQcm8nXSkNCiAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpDQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKScNCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoODAsMTAzKQ0KICAgIGk9JzAnDQogICAgaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkNCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQ0KICAgIGw9J0Nocm9tZS8xMDcuMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYnDQogICAgdWFrdTI9Zid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9Jw0KICAgIHVnZW4uYXBwZW5kKHVha3UyKQ0KCQ0KICAgIGFhPSdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7Jw0KICAgIGI9cmFuZG9tLmNob2ljZShbJzcuMCcsJzguMS4wJywnOScsJzEwJywnMTEnLCcxMiddKQ0KICAgIGM9cmFuZG9tLmNob2ljZShbJ1JlZG1pIE5vdGUgMTAgUHJvJ10pDQogICAgZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQ0KICAgIGY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbyknDQogICAgaD1yYW5kb20ucmFuZHJhbmdlKDgwLDEwMykNCiAgICBpPScwJw0KICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApDQogICAgaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkNCiAgICBsPSdDaHJvbWUvMTA3LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2Jw0KICAgIHVha3UyPWYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScNCiAgICB1Z2VuLmFwcGVuZCh1YWt1MikNCg0KDQoNCg0KDQpsb2dvID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIiIiICAgDQrilIzilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJENCuKUgw0KICAgDQpcMDMzWzE7OTFtIF9fX19fX18gLl9fXyAgX19fLiAgIF9fX19fXyAgIC5fXyAgIF9fLiANCnwgICBfX19ffHwgICBcLyAgIHwgIC8gIF9fICBcICB8ICBcIHwgIHwgDQp8ICB8X18gICB8ICBcICAvICB8IHwgIHwgIHwgIHwgfCAgIFx8ICB8IA0KXDAzM1sxOzk3bXwgICBfX3wgIHwgIHxcL3wgIHwgfCAgfCAgfCAgfCB8ICAuIGAgIHwgDQp8ICB8X19fXyB8ICB8ICB8ICB8IHwgIGAtLScgIHwgfCAgfFwgICB8IA0KfF9fX19fX198fF9ffCAgfF9ffCAgXF9fX19fXy8gIHxfX3wgXF9ffCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICANCuKUgw0K4pSU4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSYDQogICAgICDilIzilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIEgRU1vbi1CSGFpIOKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkQ0KICAgICAgICAgICAgICAgGlwwMzNbMTs5N21DUkVBVEVEIEJZICAgOiAgRU1vbi1CSGFpICAgICAgICAgICAgDQogICAgICAgICAgICAgICAaXDAzM1sxOzkxbUZBQ0VCT0sgICAgICA6IEVNT04gSEFXTEFEQVIgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgGlwwMzNbMTs5N21HSVRIVUIgICAgICAgOiAgVEVSTVVYLUVNT04gICAgICAgDQogICAgICAgIBogICAgICAgXDAzM1sxOzkxbVNUQVRVUyAgICAgICA6ICAgUEFJRPCfmLQgICAgICAgICAgICANCiAgICAgICAgICAgICAgIBpcMDMzWzE7OTdtVEVBTSAgICAgICAgIDogIEVNb24tQkhhaSAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICBcMDMzWzE7OTFtVE9PTCBWSVJTSU9OIDogIDIuMDkgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAaICAgICAgIFwwMzNbMTs5N21UT09MIFdPUksgICAgOiAgT05MWSAgREFUQSAgICAgICAgICAgDQogICAgICDilJTilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIEgRU1PTiDilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJgNCiIiIikNCg0KDQp1c2VyID0gW10NCnNvID0gJ346ficNCmxvb3AgPSAwDQpva3MgPSBbXQ0KY3BzID0gW10NCnBjcD1bXQ0KDQpkZWYgY2xlYXIoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludChsb2dvKQ0KCQ0KZGVmIGFwcHJvdmFsKCk6DQogIG9zLnN5c3RlbSgnY2xlYXInKQ0KICBwcmludChsb2dvKQ0KICB1dWlkID0gc3RyKG9zLmdldGV1aWQoKSkgKyBzdHIob3MuZ2V0bG9naW4oKSkNCiAgaWQgPSAiLSIuam9pbih1dWlkKQ0KICB0cnk6DQogICAgaHR0cENhaHQgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9UZXJtdXgtRW1vbi9FTW9uLUJIYWkvbWFpbi9hcHByb3ZlZC50eHQnKS50ZXh0DQogICAgaWYgaWQgaW4gaHR0cENhaHQ6DQogICAgICBwcmludCgiXDMzWzE7MzJtWW91ciBUb2tlbiBpcyBTdWNjZXNzZnVsbHkgQXBwcm92ZWQiKQ0KICAgICAgbXNnID0gc3RyKG9zLmdldGV1aWQoKSkNCiAgICAgIHRpbWUuc2xlZXAoMC41KQ0KICAgICAgbWVudSgpDQogICAgICBtZW51MSgpDQogICAgICBwYXNzDQogICAgZWxzZToNCiAgICAgIHByaW50KCJZb3VyIFRva2VuIDogIitpZCkNCiAgICAgIHByaW50KCdcMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCiAgICAgIHByaW50KCJcMzNbMTszMm1JbXBvcnRhbnQgTm90ZSIpDQogICAgICBwcmludCgiXDMzWzE7MzdtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQogICAgICBwcmludCgiXDMzWzE7MzdtRm9yIDE1IERheXMgQXBwcm92YWwgUHJpY2UgMjAwVGsgT25lIE1vbnRoIFByaWNlIDQwMCBUayIpDQogICAgICBwcmludCgnV0hBVFNBUFAgTlVNQkVSIC0gKzg4MDEzMDk5OTE3MjQnKQ0KICAgICAgcHJpbnQoJ1NlbmQgUGF5IEFuZCBHaXZlIFNzIEFuZCBTZW5kIE1lIEtleSBPciBTcyBNZSBXaGF0c2FwcCcpDQogICAgICBwcmludCgnXDMzWzE7MzdtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgICBpbnB1dCgnSUYgVSBXQU5UIFRPIEJVWSBUSEVOIFBSRVNTIEVOVEVSICcpDQogICAgICB0a3MgPSAoJ0hlbGxvJTIwU2lyJTIwISUyMFBsZWFzZSUyMEFwcHJvdmUlMjBNeSUyMFRva2VuJTIwVGhlJTIwVG9rZW4lMjBJcyUyMDolMjAnK2lkKTtvcy5zeXN0ZW0oJ2FtIHN0YXJ0IGh0dHBzOi8vd2EubWUvKzg4MDEzMDk5OTE3MjQ/dGV4dD0nK3RrcyksYXBwcm92YWwoKQ0KICAgICAgdGltZS5zbGVlcCgxKQ0KICAgICAgYXBwcm92YWwoKQ0KICBleGNlcHQ6DQogICAgc3lzLmV4aXQoKQ0KDQoNCmRlZiBtZW51KCk6DQoJb3Muc3lzdGVtKCJjbGVhciIpDQoJY2xlYXIoKQ0KCWxvKCJcdCAgIExPQURJTkcgU1lTVEVNIikNCgljbGVhcigpDQoJcHJpbnQgKCJcMDMzWzE7OTdtWzFdXDAzM1sxOzMzbSBGSUxFIENMT05JTkcgIikNCglwcmludCAoIlwwMzNbMTs5N21bMl1cMDMzWzE7MzNtIFJBTkRPTSBDTE9ORUlORyIpDQoJcHJpbnQgKCJcMDMzWzE7OTdtWzNdXDAzM1sxOzMzbSBDUkFDSyBGSUxFIikNCglvdCA9IGlucHV0KCdcbiAgIFx4MWJbMTszMm0gQ2hvb3NlIG9wdGlvbiA+Pj4gJykNCglpZiBvdCA9PSAnMSc6DQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL1RFUkdFVFlPVVJJRCcpDQoJCWNyYWNrX2ZpbGUoKQ0KCQkNCglpZiBvdCA9PSAnMic6DQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL1RFUkdFVFlPVVJJRCcpDQoJCXJuZG0oKQ0KCQkNCglpZiBvdCA9PSAnMyc6DQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL1RFUkdFVFlPVVJJRCcpDQoJCQ0KCWVsc2U6DQoJCW1lbnUoKQ0KDQpkZWYgbWVudTEoKToNCglwcmludCAoZiJ7d2FybmE2fSIpDQoJY2xlYXIoKQ0KCQ0KCW5hbSA9IGlucHV0KCJFbnRlciBZb3VyIE5hbWU6ICIpDQoJdWlkKG5hbSkNCgljbGVhcigpDQoJcHJpbnQgKCJcMDMzWzE7OTdtICAgICBbMV1cMDMzWzE7MzNtIEZJTEUgQ0xPTklORyIpDQoJcHJpbnQgKCJcMDMzWzE7OTdtICAgICBbMl1cMDMzWzE7MzNtIEJBTkdMQURFU0ggTlVNQkVSIikNCglwcmludCAoIlwwMzNbMTs5N20gICAgIFszXVwwMzNbMTszM20gTVkgRkFDRUJPT0siKQ0KCW90ID0gaW5wdXQoJ1xuICAgXHgxYlsxOzMybSBDaG9vc2Ugb3B0aW9uID4+PiAnKQ0KCWlmIG90ID09ICcxJzoNCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vVEVSR0VUWU9VUklEJykNCgkJY3JhY2tfZmlsZSgpDQoJaWYgb3QgPT0gJzInOg0KCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9URVJHRVRZT1VSSUQnKQ0KCQlybmRtKCkNCglpZiBvdCA9PSAnMyc6DQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL1RFUkdFVFlPVVJJRCcpDQoNCgllbHNlOg0KCQltZW51KCkNCg0KZGVmIHJuZG0oKToNCgl1c2VyPVtdDQoJcHJpbnQgKGYie3dhcm5hMX0iKQ0KCWNsZWFyKCkNCglwcmludChneWMpDQoJcHJpbnQgKCIiIistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rDQp8ICAgICAgICBFeGFtcGxlPjogICAgICAgICAgICAgfA0KfCAgICAgICAgMDE5MSwwMTcyLDAxODMsICAgICAgIHwNCnwgICAgICAgIDkyMzAyLDkyMzAxLDkxNzc4ICAgICB8DQorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKw0KIiIiKQ0KCWNvZCA9IGlucHV0KCdcbiBJTlBVVCBZT1VSIFNJTSBDT0RFOiAnKQ0KCWlmIGxlbihjb2QpICE9IDQ6DQoJCXByaW50KCJJbmNvcnJlY3QgY29kZSIpDQoJZWxzZToNCgkJcGFzcw0KCXByaW50IChmInt3YXJuYTN9IikNCgljbGVhcigpDQoJcHJpbnQoZ3ljKQ0KCWxpbWl0ID0gaW50KGlucHV0KCcgSU5QVVQgTElNSVQ6ICcpKQ0KCWZvciBudW0gaW4gcmFuZ2UgKGxpbWl0KToNCgkJbm0gPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoNykpDQoJCXVzZXIuYXBwZW5kKG5tKQ0KCXByaW50IChmInt3YXJuYTV9IikNCgljbGVhcigpDQoJcHJpbnQoZ3ljKQ0KCXByaW50ICgiRG8geW91IHdhbnQgdG8gdXNlIGN1c3RvbSBwYXNzd29yZDogeS9uIikNCgljc3AgPSBpbnB1dCgnXG4gRU5URVIgWUVTIE9SIE5PIDogJykNCgkNCglzYWkgPSBbXQ0KCWlmIGNzcCBpbiBbJ3knLCdZJywneWVzJywnWWVzJywnMSddOg0KCQlwc3ggPSBpbnQoaW5wdXQoIiBFbnRlciBQYXNzd29yZCBMaW1pdDogIikpDQoJCWZvciBzYSBpbiByYW5nZShwc3gpOg0KCQkJcHd3ID0gaW5wdXQoZiJ7c299IEVudGVyIFBhc3N3b3JkOiAiKQ0KCQkJc2FpLmFwcGVuZChwd3cpDQoJZWxzZToNCgkJcGFzcw0KCXdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0zMCkgYXMgc2FpbW9uOg0KCQlwcmludChneWMpDQoJCWNsZWFyKCkNCgkJDQoJCWxuID0gc3RyKGxlbih1c2VyKSkNCgkJcHJpbnQoNTAqJ18nKQ0KCQlwcmludCgnW8+AXSBUT1RBTCBJRFM6ICcrbG4pDQoJCXByaW50KCdbz4BdIFlPVVIgU0lNIENPREUgOiAnK2NvZCkNCgkJcHJpbnQoNTAqJ18nKQ0KCQlmb3IgbmhtIGluIHVzZXI6DQoJCQl1aWQgPSBjb2QrbmhtDQoJCQlwd3ggPSBbdWlkLHVpZFszOl0sdWlkWzA6Nl0sdWlkWzA6N10sdWlkWzA6OF1dDQoJCQlmb3IgcHNjIGluIHNhaToNCgkJCQlwd3guYXBwZW5kKHBzYykNCgkJCXNhaW1vbi5zdWJtaXQoYyx1aWQscHd4LGxuKQ0KCXByaW50KDUwKidfJykNCglwcmludCgnIFvPgF0gQ3JhY2sgcHJvY2VzcyBoYXMgYmVlbiBjb21wbGV0ZWQnKQ0KCXByaW50KDUwKidfJykNCglleGl0KCkNCg0KZGVmIHJhbmRvbV9oZWFkZXJzKCk6DQogICAgZGV2aWNlcyA9IFsiaVBob25lIiwgIlNhbXN1bmciLCAiTmV4dXMiLCAiUGl4ZWwiLCAiaVBhZCIsICJTdXJmYWNlIiwgIktpbmRsZSJdDQogICAgYnJvd3NlcnMgPSBbIlNhZmFyaSIsICJDaHJvbWUiLCAiRmlyZWZveCIsICJPcGVyYSIsICJFZGdlIiwgIkludGVybmV0IEV4cGxvcmVyIl0NCiAgICBkZXZpY2UgPSByYW5kb20uY2hvaWNlKGRldmljZXMpDQogICAgYnJvd3NlciA9IHJhbmRvbS5jaG9pY2UoYnJvd3NlcnMpDQogICAgYnJvd3Nlcl92ZXJzaW9uID0gc3RyKHJhbmRvbS5yYW5kaW50KDEsMjApKSArICIuIiArIHN0cihyYW5kb20ucmFuZGludCgwLDEwKSkNCiAgICBwbGF0Zm9ybSA9IHJhbmRvbS5jaG9pY2UoWyJXaW5kb3dzIiwgIk1hY09TIiwgIkxpbnV4IiwgIkFuZHJvaWQiXSkNCiAgICB1c2VyX2FnZW50ID0gZiJNb3ppbGxhLzUuMCAoe3BsYXRmb3JtfTsge2RldmljZX07IENQSHtyYW5kb20ucmFuZGludCgxMDAwLDk5OTkpfSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykge2Jyb3dzZXJ9L3ticm93c2VyX3ZlcnNpb259IE1vYmlsZSBTYWZhcmkvNTM3LjM2Ig0KICAgIHJhbmRvbV9sZXR0ZXJzID0gIiIuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5hc2NpaV9sZXR0ZXJzKSBmb3IgaSBpbiByYW5nZSgxMCkpDQogICAgaGVhZGVyID0gew0KICAgICAgICAiYXV0aG9yaXR5IjogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAibWV0aG9kIjogJ1BPU1QnLA0KICAgICAgICAic2NoZW1lIjogJ2h0dHBzJywNCiAgICAgICAgImFjY2VwdCI6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLA0KICAgICAgICAiYWNjZXB0LWVuY29kaW5nIjogJ2d6aXAsIGRlZmxhdGUsIGJyJywNCiAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ICdlbi1VUyxlbjtxPTAuOScsDQogICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICJvcmlnaW4iOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgInJlZmVyZXIiOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tLycsDQogICAgICAgICJzZWMtY2gtdWEiOiBmJyJ7YnJvd3Nlcn0iO3Y9Inticm93c2VyX3ZlcnNpb259IiwgIk5vdD1BP0JyYW5kIjt2PSJ7cmFuZG9tLnJhbmRpbnQoMSwxMDApfSInLA0KICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICc/MScsDQogICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiBmJyJ7cGxhdGZvcm19IicsDQogICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICdkb2N1bWVudCcsDQogICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ICduYXZpZ2F0ZScsDQogICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICdzYW1lLW9yaWdpbicsDQogICAgICAgICJzZWMtZmV0Y2gtdXNlciI6ICc/MScsDQogICAgICAgICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogJzEnLA0KICAgICAgICAidXNlci1hZ2VudCI6IHVzZXJfYWdlbnQNCiAgICB9DQogICAgcmV0dXJuIGhlYWRlcg0KDQpkZWYgcmFuZG9tX2hlYWRlcigpOg0KICAgIGRldmljZXMgPSBbImlQaG9uZSIsICJTYW1zdW5nIiwgIk5leHVzIiwgIlBpeGVsIiwgImlQYWQiLCAiU3VyZmFjZSIsICJLaW5kbGUiXQ0KICAgIGJyb3dzZXJzID0gWyJDaHJvbWl1bSIsICJOb3Q9QT9CcmFuZCJdDQogICAgcGxhdGZvcm1zID0gWyJBbmRyb2lkIiwgIldpbmRvd3MiLCAiTWFjT1MiLCAiTGludXgiXQ0KICAgIA0KICAgIGhlYWRlciA9IHsNCiAgICAgICAgImF1dGhvcml0eSI6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgIm1ldGhvZCI6ICdQT1NUJywNCiAgICAgICAgInNjaGVtZSI6ICdodHRwcycsDQogICAgICAgICJhY2NlcHQiOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywNCiAgICAgICAgImFjY2VwdC1lbmNvZGluZyI6ICdnemlwLCBkZWZsYXRlLCBicicsDQogICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAnZW4tVVMsZW47cT0wLjknLA0KICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAib3JpZ2luIjogJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICJyZWZlcmVyIjogJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8nLA0KICAgICAgICAic2VjLWNoLXVhIjogZicie3JhbmRvbS5jaG9pY2UoYnJvd3NlcnMpfSI7dj0ie3N0cihyYW5kb20ucmFuZGludCgxLDIwKSkgKyAiLiIgKyBzdHIocmFuZG9tLnJhbmRpbnQoMCwxMCkpfSInLA0KICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICc/MScsDQogICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiBmJyJ7cmFuZG9tLmNob2ljZShwbGF0Zm9ybXMpfSInLA0KICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAnZG9jdW1lbnQnLA0KICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAnbmF2aWdhdGUnLA0KICAgICAgICAic2VjLWZldGNoLXNpdGUiOiAnc2FtZS1vcmlnaW4nLA0KICAgICAgICAic2VjLWZldGNoLXVzZXIiOiAnPzEnLA0KICAgICAgICAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6ICcxJywNCiAgICAgICAgInVzZXItYWdlbnQiOiBmJ01vemlsbGEvNS4wICh7cmFuZG9tLmNob2ljZShwbGF0Zm9ybXMpfSB7cmFuZG9tLnJhbmRpbnQoMSwyMCl9OyB7cmFuZG9tLmNob2ljZShkZXZpY2VzKX0pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS97c3RyKHJhbmRvbS5yYW5kaW50KDEsMjApKSArICIuIiArIHN0cihyYW5kb20ucmFuZGludCgwLDEwKSl9IE1vYmlsZSBTYWZhcmkvNTM3LjM2Jw0KICAgIH0NCiAgICByZXR1cm4gaGVhZGVyDQogICAgCQ0KZGVmIHJhbmRvbV9oZWFkZXJzKCk6DQogICAgZGV2aWNlcyA9IFsiaVBob25lIiwgIlNhbXN1bmciLCAiTmV4dXMiLCAiUGl4ZWwiLCAiaVBhZCIsICJTdXJmYWNlIiwgIktpbmRsZSJdDQogICAgYnJvd3NlcnMgPSBbIlNhZmFyaSIsICJDaHJvbWUiLCAiRmlyZWZveCIsICJPcGVyYSIsICJFZGdlIiwgIkludGVybmV0IEV4cGxvcmVyIl0NCiAgICBwbGF0Zm9ybXMgPSBbIldpbmRvd3MiLCAiTWFjT1MiLCAiTGludXgiLCAiQW5kcm9pZCIsICJpT1MiXQ0KDQogICAgZGV2aWNlID0gcmFuZG9tLmNob2ljZShkZXZpY2VzKQ0KICAgIGJyb3dzZXIgPSByYW5kb20uY2hvaWNlKGJyb3dzZXJzKQ0KICAgIHBsYXRmb3JtID0gcmFuZG9tLmNob2ljZShwbGF0Zm9ybXMpDQogICAgdmVyc2lvbiA9IHN0cihyYW5kb20ucmFuZGludCgxLCAyMCkpICsgIi4iICsgc3RyKHJhbmRvbS5yYW5kaW50KDAsIDEwKSkNCiAgICBzZWNfY2hfdWEgPSBmJyJ7YnJvd3Nlcn0iO3Y9Int2ZXJzaW9ufSIsICJOb3Q9QT9CcmFuZCI7dj0ie3JhbmRvbS5yYW5kaW50KDEsMTAwKX0iJw0KICAgIHVzZXJfYWdlbnQgPSBmJ01vemlsbGEvNS4wICh7cGxhdGZvcm19OyBBbmRyb2lkIHtyYW5kb20ucmFuZGludCgxLDEyKX07IHtkZXZpY2V9KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSB7YnJvd3Nlcn0ve3ZlcnNpb259LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2Jw0KICAgIA0KICAgIGhlYWRlciA9IHsNCiAgICAgICAgImF1dGhvcml0eSI6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCiAgICAgICAgIm1ldGhvZCI6ICdQT1NUJywNCiAgICAgICAgInNjaGVtZSI6ICdodHRwcycsDQogICAgICAgICJhY2NlcHQiOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywNCiAgICAgICAgImFjY2VwdC1lbmNvZGluZyI6ICdnemlwLCBkZWZsYXRlLCBicicsDQogICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAnZW4tVVMsZW47cT0wLjknLA0KICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAib3JpZ2luIjogJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICJyZWZlcmVyIjogJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8nLA0KICAgICAgICAic2VjLWNoLXVhIjogc2VjX2NoX3VhLA0KICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICc/MScsDQogICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiBmJyJ7cGxhdGZvcm19IicsDQogICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICdkb2N1bWVudCcsDQogICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ICduYXZpZ2F0ZScsDQogICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICdzYW1lLW9yaWdpbicsDQogICAgICAgICJzZWMtZmV0Y2gtdXNlciI6ICc/MScsDQogICAgICAgICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogJzEnLA0KICAgICAgICAidXNlci1hZ2VudCI6IHVzZXJfYWdlbnQNCiAgICB9DQoNCg0KICAgIA0KICAgICAgICANCiAgICANCgkNCmRlZiBjKHVpZCxwd3gsbG4pOg0KICAgIGdsb2JhbCBsb29wDQogICAgZ2xvYmFsIGNwcyAgICANCiAgICBnbG9iYWwgb2tzDQogICAgZ2xvYmFsIGFnZW50cw0KICAgIHRyeToNCiAgICAgICAgZm9yIHBzIGluIHB3eDoNCiAgICAgICAgICAgIHNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHdhID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcciVzW0VNb24tQkhhaV0gWyVzLyVzXSBbT0stJXNdIFtDUC0lc10gXHInJSh3YSxsb29wLGxuLGxlbihva3MpLGxlbihjcHMpKSksDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHBybyA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgI29vPXJhbmRvbS5jaG9pY2Uoc3NzKQ0KICAgICAgICAgICAgZnJlZV9mYiA9IHNlc3Npb24uZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKS50ZXh0DQogICAgICAgICAgICBsb2dfZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJtX3RzIjpyZS5zZWFyY2goJ25hbWU9Im1fdHMiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgImxpIjpyZS5zZWFyY2goJ25hbWU9ImxpIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJ0cnlfbnVtYmVyIjoiMCIsDQogICAgICAgICAgICAidW5yZWNvZ25pemVkX3RyaWVzIjoiMCIsDQogICAgICAgICAgICAiZW1haWwiOnVpZCwNCiAgICAgICAgICAgICJwYXNzIjpwcywNCiAgICAgICAgICAgICJsb2dpbiI6IkxvZyBJbiJ9DQogICAgICAgICAgICBoZWFkZXJfZnJlZWZiID0gcmFuZG9tX2hlYWRlcigpDQogICAgICAgICAgICBsbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9yZWd1bGFyL2xvZ2luLz9yZWZzcmMnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0DQogICAgICAgICAgICBsb2dfY29va2llcz1zZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCkNCiAgICAgICAgICAjICBsbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9yZWd1bGFyL2xvZ2luLz9yZWZzcmMnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0DQogICAgICAgICAjICAgbG9nX2Nvb2tpZXM9c2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkua2V5cygpDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiBsb2dfY29va2llczoNCiAgICAgICAgICAgICMJYm90b2sodWlkLHBzKQ0KICAgICAgICAgICAgCWNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgIAljaWQgPSBjb2tpWzY1OjgwXQ0KICAgICAgICAgICAgCXByaW50KCdcMDMzWzE7OTJtRU1PTi1PS1vwn5iBXVwwMzNbMTs5Mm1dIFwwMzNbMTs5Mm0nICtjaWQrICcgfCAnICtwcysgICAgJyB8Pj4nK3RhaHVubmcoY2lkKSkNCiAgICAgICAgICAgIAlwcmludCgnXDAzM1sxOzkybVtcMDMzWzE7OTJt8J+NqlwwMzNbMTs5Mm1dQ09PS0lFUyA6IFwwMzNbMTs5Mm0nK2Nva2krICcnKQ0KICAgICAgICAgICAgCW9wZW4oJ0VNT04tT0sudHh0JywgJ2EnKS53cml0ZSggY2lkKycgfCAnK3BzKydcbicpDQogICAgICAgICAgICAJb3BlbignRU1PTi1jb2tpLnR4dCcsICdhJykud3JpdGUoY29raSsnXG4nKQ0KICAgICAgICAgICAgCWNla19hcGsoc2Vzc2lvbixjb2tpKQ0KICAgICAgICAgICAgCW9rcy5hcHBlbmQoY2lkKQ0KICAgICAgICAgICAgCWJyZWFrDQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiBsb2dfY29va2llczoNCiAgICAgICAgICAgIAkjYm90Y3AodWlkLHBzKQ0KICAgICAgICAgICAgCWNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgIAljaWQgPSBjb2tpWzgyOjk3XQ0KICAgICAgICAgICAgCXByaW50KCdcMzNbMTszMG0oRU1PTi1DcCBb8J+SlF0gJytjaWQrICcgfCAnICtwcysnICB8Pj4nK3RhaHVubmcoY2lkKSkNCiAgICAgICAgICAgIAkjcHJpbnQoJ1wwMzNbMTs5Mm1bXDAzM1sxOzkybcOwxbjCjcKqXDAzM1sxOzkybV1DT09LSUVTIDogXDAzM1sxOzkybScrY29raSsgJycpDQogICAgICAgICAgICAJb3BlbignRU1PTi1DUC50eHQnLCAnYScpLndyaXRlKCB1aWQrJyB8ICcrcHMrJyBcbicpDQogICAgICAgICAgICAJY3BzLmFwcGVuZChjaWQpDQogICAgICAgICAgICAJYnJlYWsNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAJI3ByaW50IChyYW5kb21faGVhZGVyKCkpDQogICAgICAgICAgICAJY29udGludWUNCiAgICAgICAgbG9vcCs9MQ0KICAgICAgICANCiAgICAgICAgI3N5cy5zdGRvdXQud3JpdGUoJ1xyJXMgICBbRU1PTl0gXDAzM1sxOzM1bVslcy8lc10gXDAzM1sxOzMybVtPSy0lc10gXDAzM1sxOzM0bVtDUC0lc10gXHInJSh3YSxsb29wLHRsLGxlbihva3MpLGxlbihjcHMpKSksDQogICAgICAgIyBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIHRpbWUuc2xlZXAoMTApDQogICAgICAgIHBhc3MNCiAgICAgICAgDQpkZWYgY3JhY2tfZmlsZSgpOg0KCQ0KCWNsZWFyKCkNCglvID0gaW5wdXQoJ1x4MWJbMTs5N20gW8+AXSBGSUxFIE5BTUUgOiAnKQ0KCXByaW50KCcnKQ0KCXRyeTpsaW4gPSBvcGVuKG8pLnJlYWQoKS5zcGxpdGxpbmVzKCkNCglleGNlcHQ6DQoJCXByaW50KCdGaWxlIE5vdCBGb3VuZCcpDQoJCXRpbWUuc2xlZXAoMikNCgkJbWVudSgpDQoJZm9yIHhpZCBpbiBsaW46DQoJCWlkLmFwcGVuZCh4aWQpDQoJc2V0dGluZygpDQoNCmRlZiBzZXR0aW5nKCk6DQoJaHUgPSAnMycNCglpZiBodSBpbiBbJzEnLCcwMSddOg0KCQlmb3IgdHVhIGluIHNvcnRlZChpZCk6DQoJCQlpZDIuYXBwZW5kKHR1YSkNCgllbGlmIGh1IGluIFsnMicsJzAyJ106DQoJCW11ZGE9W10NCgkJZm9yIGJhY290IGluIHNvcnRlZChpZCk6DQoJCQltdWRhLmFwcGVuZChiYWNvdCkNCgkJYmNtPWxlbihtdWRhKQ0KCQliY21pPShiY20tMSkNCgkJZm9yIHhtdWQgaW4gcmFuZ2UoYmNtKToNCgkJCWlkMi5hcHBlbmQobXVkYVtiY21pXSkNCgkJCWJjbWkgLT0xDQoJZWxpZiBodSBpbiBbJzMnLCcwMyddOg0KCQlmb3IgYmFjb3QgaW4gaWQ6DQoJCQl4eCA9IHJhbmRvbS5yYW5kaW50KDAsbGVuKGlkMikpDQoJCQlpZDIuaW5zZXJ0KHh4LGJhY290KQ0KCWVsc2U6DQoJCWZvciBiYWNvdCBpbiBpZDoNCgkJCXh4ID0gcmFuZG9tLnJhbmRpbnQoMCxsZW4oaWQyKSkNCgkJCWlkMi5pbnNlcnQoeHgsYmFjb3QpDQogICAgDQoJDQoJcGFzc3dyZCgpDQoJZXhpdCgpDQpkZWYgcGFzc3dyZCgpOg0KCQ0KCWNsZWFyKCkNCglwcmludCgiXHgxYlwwMzNbMzg7NTsxOTZtVVNFIE1PQklMRSBEQVRBXDAzM1sxOzM3bSIpDQoJcHJpbnQoJ1x4MWJcMDMzWzM4OzU7MTk2bVRPVEFMIElEeiA6ICcrc3RyKGxlbihpZCkpKQ0KCXByaW50KCJceDFiXDAzM1szODs1OzE5Nm1UVVJOIE9OL09GRiBGTElHSFQgTU9ERSBJTiBFVkVSWSA1IE1JTiIpDQoJc2F3cm9qaihmJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCgl3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9MzApIGFzIHNhaW1vbjoNCgkJZm9yIHl1em9uZyBpbiBpZDI6DQoJCQlpZGYsbm1mID0geXV6b25nLnNwbGl0KCd8JylbMF0seXV6b25nLnNwbGl0KCd8JylbMV0ubG93ZXIoKQ0KCQkJZnJzID0gbm1mLnNwbGl0KCcgJylbMF0NCgkJCXB3diA9IFtdDQoJCQlpZiBsZW4obm1mKTw2Og0KCQkJCWlmIGxlbihmcnMpPDM6DQoJCQkJCXBhc3MNCgkJCQllbHNlOg0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDUnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNCcpDQoJCQkJCQ0KCQkJCQkNCgkJCWVsc2U6DQoJCQkJaWYgbGVuKGZycyk8MzoNCgkJCQkJcHd2LmFwcGVuZChubWYpDQoJCQkJZWxzZToNCgkJCQkJcHd2LmFwcGVuZChubWYpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjMnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNCcpDQoJCQkJCXB3di5hcHBlbmQoZnJzKydAMTIzJykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJ0AxMjM0JykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1JykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1NicpDQoJCQkJCXB3di5hcHBlbmQoZnJzKyc3ODYnKQ0KCQkJCQkNCgkJCQkJDQoJCQkJc2FpbW9uLnN1Ym1pdChjcmFjayxpZGYscHd2KQ0KCXByaW50KCcnKQ0KCXNhd3JvamooJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCglzYXdyb2pqKCdDTE9OSU5HIENPTVBMRVRFIC4uLi4uLi4uLi4gJykNCglpbnB1dCgnQ0xJQ0sgRU5URVIgVE8gRVhJVCAnKQ0KICAgIA0KCQ0KCQ0KbmFtID0gIkVNT04iDQpuYW1lID0gIltFTU9OLU9LXSINCm5hbWUxID0gIltFTU9OLUNQXSINCgkNCmRlZiBjcmFjayhpZGYscHd2KToNCglnbG9iYWwgbG9vcCxvayxjcA0KCWJvID0gcmFuZG9tLmNob2ljZShbbSxrLGgsYix1LHhdKQ0KCXN5cy5zdGRvdXQud3JpdGUoZiJcciB7bmFtfSB7UH17bG9vcH17UH0ve1B9e2xlbihpZCl9e1B9IE9Le1B9PXtIfXtva317UH0geyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihpZCkpKX17UH0gIiksDQoJc3lzLnN0ZG91dC5mbHVzaCgpDQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pDQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuKQ0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCWZvciBwdyBpbiBwd3Y6DQoJCXRyeToNCgkJCW5pcD1yYW5kb20uY2hvaWNlKHByb3gpDQoJCQlwcm94cz0geydodHRwJzogJ3NvY2tzNDovLycrbmlwfQ0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J20uZmFjZWJvb2suY29tJywidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YTIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkNCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpDQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQ0KCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicNCgkJCWhlYWRlPXsiSG9zdCI6J20uZmFjZWJvb2suY29tJywiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwib3JpZ2luIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOnVhLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0NCgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vcC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpDQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQlwcmludChmJ1xyXHgxYlszODs1OzIwNm0ge25hbWUxfSB7aWRmfSAge3B3fSB7Tn0nKSAgICAgDQoJCQkJb3BlbignL3NkY2FyZC9DUC8nK2NwYywnYScpLndyaXRlKGlkZisnICcrcHcrJ1xuJykNCgkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQ0KCQkJCWNwKz0xDQoJCQkJYnJlYWsNCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQoJCQkJb2srPTENCgkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQ0KCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQlwcmludChmJ1xye0h9IHtuYW1lfSB7aWRmfSAge3B3fScpDQoJCQkJb3BlbignL3NkY2FyZC9PSy8nK29rYywnYScpLndyaXRlKGlkZisnICcrcHcrJ1xuJykNCgkJCQljZWtfYXBrKHNlc3Npb24sY29raSkNCgkJCQlicmVhaw0KCQkJCQ0KCQkJZWxzZToNCgkJCQljb250aW51ZQ0KCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQl0aW1lLnNsZWVwKDMxKQ0KCWxvb3ArPTENCg0KZGVmIHRvb2xzY29udHJvbCgpOg0KCWJsbyA9ICJodHRwczovL2FwcHBwcGFwcHBwcHAiDQoJZ3IgPSAiYXBwcC5ibG9nc3BvdC5jb20vMjAiDQoJcnIgPSAiMjMvMDIvZ290Lmh0bWwiDQoNCgl2ID0gInVwZGF0ZTExIg0KCXZ2ID0gIm1lbnUxMSINCgl2dnYgPSAib2YxMSINCglwZW8gPSByZXF1ZXN0cy5nZXQoZiJ7YmxvfXtncn17cnJ9IikudGV4dA0KCWlmIHYgaW4gcGVvOg0KCQl1cGRhdGUgKCkNCgllbGlmIHZ2IGluIHBlbzoNCgkJbWVudSgpDQoJZWxpZiAib2YxMSIgaW4gcGVvOg0KCQljbGVhcigpDQoJCWphbGFuICgiIFRISVMgVE9PTFMgSVMgTk9UIFdPUktJTkcgUExFQVNFIFdBSVQgRk9SIE5FWFQgVVBEQVRFIikNCgkJdGltZS5zbGVlcCgxKQ0KCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9URVJHRVRZT1VSSUQnKQ0KCQlleGl0KCkNCgllbHNlOg0KCQlleGl0KCkNCg0KZGVmIHVwZGF0ZSgpOg0KICANCiAgY2xlYXIoKQ0KICBwcmludCAoJyBcMDMzWzA7OTNtUExFQVNFIFdBSVQgRk9SIFVQREFURScpDQogIHRpbWUuc2xlZXAoMikNCiAgcHJpbnQgKCJcMDMzWzE7MzJtIikNCiAgb3Muc3lzdGVtKCJnaXQgcHVsbCIpDQogIG9zLnN5c3RlbSgiZ2l0IHB1bGwiKQ0KICBvcy5zeXN0ZW0oImdpdCBwdWxsIikNCiAgdGltZS5zbGVlcCgzKQ0KICBwcmludCAoIiIpDQogIHByaW50ICgnXDAzM1sxOzMybVVQREFURSBTVUNDRVNTRlVMJykNCiAgdGltZS5zbGVlcCgyKQ0KICBtZW51KCkNCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOg0KCWFwcHJvdmFsKCkNCgl0cnk6b3Muc3lzdGVtKCd0b3VjaCAucHJveC50eHQnKQ0KCWV4Y2VwdDpwYXNzDQoJdG9vbHNjb250cm9sKCk="))